<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MergedMethods.jl documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><h1>MergedMethods.jl</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href="index.html">Home</a><ul class="internal"><li><a class="toctext" href="#Contents-1">Contents</a></li><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Index-1">Index</a></li><li><a class="toctext" href="#Public-Interface-1">Public Interface</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="index.html">Home</a></li></ul><a class="edit-page" href="https://github.com/MichaelHatherly/MergedMethods.jl/tree/404b11f06427bb04148260406b93a75a90050476/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="MergedMethods-1" href="#MergedMethods-1">MergedMethods</a></h1><p><em>Merge methods from different modules.</em></p><h2><a class="nav-anchor" id="Contents-1" href="#Contents-1">Contents</a></h2><ul><li><a href="index.html#MergedMethods-1">MergedMethods</a></li><ul><li><a href="index.html#Contents-1">Contents</a></li><li><a href="index.html#Installation-1">Installation</a></li><li><a href="index.html#Index-1">Index</a></li><li><a href="index.html#Public-Interface-1">Public Interface</a></li></ul></ul><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>This package is registered in <code>METADATA.jl</code> and so can be installed using <code>Pkg.add</code></p><pre><code class="language-julia">Pkg.add(&quot;MergedMethods&quot;)</code></pre><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="index.html#MergedMethods"><code>MergedMethods</code></a></li><li><a href="index.html#MergedMethods.@kwmerge"><code>MergedMethods.@kwmerge</code></a></li><li><a href="index.html#MergedMethods.@merge"><code>MergedMethods.@merge</code></a></li></ul><h2><a class="nav-anchor" id="Public-Interface-1" href="#Public-Interface-1">Public Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MergedMethods" href="#MergedMethods"><code>MergedMethods</code></a> — <span class="docstring-category">Module</span>.</div><div><p>Merge functions from different modules into a single function.</p><p>This module provides two exported macros that can be used to merge different functions.</p><ul><li><p><a href="index.html#MergedMethods.@merge"><code>@merge</code></a></p></li><li><p><a href="index.html#MergedMethods.@kwmerge"><code>@kwmerge</code></a></p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/MichaelHatherly/MergedMethods.jl/tree/404b11f06427bb04148260406b93a75a90050476/src/MergedMethods.jl#L3-L11">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MergedMethods.@merge" href="#MergedMethods.@merge"><code>MergedMethods.@merge</code></a> — <span class="docstring-category">Macro</span>.</div><div><p>Merge functions from different modules.</p><p><strong>Signature</strong></p><pre><code class="language-julia">@merge(func, modules...)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia">module A

type T end

f(::T) = T

end

module B

type T end

f(::T) = T

end

@merge f A B

f(A.T()) == A.T
f(B.T()) == B.T</code></pre><p>If several modules provide methods suitable for the specified arguments then the first listed, in the above example it would be <code>A</code>, is selected.</p><p><strong>Generated Code</strong></p><p><code>@merge</code> uses <code>@generated</code> to build specialised code for each tuple of arguments passed to the merged function. The resulting code will typically have little to no overhead due to inlining of the dispatch function.</p><pre><code class="language-julia">module A

f(x::Int, y::Float64) = x + 2y

end

module B

f(x::Float64, y::Int) = x - 3y

end

@merge f A B

test(x, y) = f(x, y) + f(y, x)
@code_llvm test(1, 1.0)</code></pre><pre><code class="language-llvm">define double @julia_test_24571(i64, double) {
top:
  %2 = call double @&quot;julia_*.1245&quot;(i64 2, double %1)
  %3 = call double @&quot;julia_+_24572&quot;(i64 %0, double %2)
  %4 = mul i64 %0, 3
  %5 = call double @julia_-.1288(double %1, i64 %4)
  %6 = fadd double %3, %5
  ret double %6
}</code></pre><p><em>See also:</em> <a href="index.html#MergedMethods.@kwmerge"><code>@kwmerge</code></a>.</p></div><a class="source-link" target="_blank" href="https://github.com/MichaelHatherly/MergedMethods.jl/tree/404b11f06427bb04148260406b93a75a90050476/src/MergedMethods.jl#L18-L93">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MergedMethods.@kwmerge" href="#MergedMethods.@kwmerge"><code>MergedMethods.@kwmerge</code></a> — <span class="docstring-category">Macro</span>.</div><div><p>Variant of <code>@merge</code> with support for passing keyword arguments.</p><p><strong>Signature</strong></p><pre><code class="language-julia">@kwmerge(func, modules...)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia">@kwmerge f A B
f(1, a = 2, b =  3)</code></pre><p><strong>Note:</strong></p><p>This macro should only be used when keywords are actually needed since the generated code will probably not be as efficient as that of <code>@merge</code>.</p><p><em>See also:</em> <a href="index.html#MergedMethods.@merge"><code>@merge</code></a>.</p></div><a class="source-link" target="_blank" href="https://github.com/MichaelHatherly/MergedMethods.jl/tree/404b11f06427bb04148260406b93a75a90050476/src/MergedMethods.jl#L96-L118">source</a><br/></section><footer><hr/></footer></article></body></html>
